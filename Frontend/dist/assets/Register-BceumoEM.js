import{r as i,j as e,L as d}from"./index-BQDGou78.js";import{L as j,a as w,y as m}from"./ReactToastify-CYHXlVD8.js";import"./clsx-B-dksMZM.js";const P=()=>{const[s,f]=i.useState({fname:"",lname:"",phone:"",email:"",password:"",confirmPassword:""}),[r,l]=i.useState({}),[c,u]=i.useState(!1),n=a=>{const{name:t,value:p,type:g,checked:b}=a.target;g==="checkbox"?(u(b),l(o=>({...o,terms:""}))):(f(o=>({...o,[t]:p})),l(o=>({...o,[t]:""})))},x=()=>{let a={};return s.fname.trim()||(a.fname="First name is required."),s.lname.trim()||(a.lname="Last name is required."),s.phone.trim()?/^\d{10}$/.test(s.phone)||(a.phone="Phone number must be 10 digits."):a.phone="Phone number is required.",s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(a.email="Enter a valid email address."):a.email="Email is required.",s.password.trim()?s.password.length<6&&(a.password="Password must be at least 6 characters."):a.password="Password is required.",s.confirmPassword.trim()?s.password!==s.confirmPassword&&(a.confirmPassword="Passwords do not match."):a.confirmPassword="Confirm password is required.",c||(a.terms="You must agree to the Terms and Conditions."),l(a),Object.keys(a).length===0},h=async a=>{if(a.preventDefault(),!!x())try{const t=await w.post("http://localhost:3000/api/v1/auth/register",s,{headers:{"Content-Type":"application/json"}});m.success("Registration successful!"),console.log("Registration successful",t.data),setTimeout(()=>{window.location.href="/login"},2e3)}catch(t){console.error("Error during registration:",t),t.response&&t.response.data&&t.response.data.message?m.error(t.response.data.message):m.error("Registration failed! Please try again.")}};return e.jsxs("div",{className:"flex justify-center items-center h-[120vh] bg-gray-100",children:[e.jsx("div",{className:"absolute top-8 left-14 flex items-center",children:e.jsxs(d,{to:"/",className:"flex items-center",children:[e.jsx("img",{src:"/src/assets/images/logo.png",alt:"Hunger End Logo",className:"w-11 mr-2"}),e.jsx("span",{className:"text-xl font-medium text-[#ff7918]",children:"Hunger End"})]})}),e.jsxs("div",{className:"bg-white p-7 rounded-2xl shadow-lg w-[30rem] max-w-lg",children:[e.jsx("h2",{className:"text-3xl font-medium text-start text-gray-800",children:"Sign Up"}),e.jsx("p",{className:"text-sm text-gray-500 text-start mb-6 mt-2",children:"Create an account to start your food journey."}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"mb-4 flex space-x-4",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"First Name"}),e.jsx("input",{type:"text",name:"fname",value:s.fname,onChange:n,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ff7918]",placeholder:"Enter first name"}),r.fname&&e.jsx("p",{className:"text-red-500 text-sm",children:r.fname})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Last Name"}),e.jsx("input",{type:"text",name:"lname",value:s.lname,onChange:n,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ff7918]",placeholder:"Enter last name"}),r.lname&&e.jsx("p",{className:"text-red-500 text-sm",children:r.lname})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Phone"}),e.jsx("input",{type:"text",name:"phone",value:s.phone,onChange:n,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ff7918]",placeholder:"Enter phone number"}),r.phone&&e.jsx("p",{className:"text-red-500 text-sm",children:r.phone})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Email"}),e.jsx("input",{type:"text",name:"email",value:s.email,onChange:n,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ff7918]",placeholder:"Enter email"}),r.email&&e.jsx("p",{className:"text-red-500 text-sm",children:r.email})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Password"}),e.jsx("input",{type:"password",name:"password",value:s.password,onChange:n,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ff7918]",placeholder:"Enter password"}),r.password&&e.jsx("p",{className:"text-red-500 text-sm",children:r.password})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Confirm Password"}),e.jsx("input",{type:"password",name:"confirmPassword",value:s.confirmPassword,onChange:n,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ff7918]",placeholder:"Confirm password"}),r.confirmPassword&&e.jsx("p",{className:"text-red-500 text-sm",children:r.confirmPassword})]}),e.jsxs("div",{className:"mb-4 flex items-center",children:[e.jsx("input",{type:"checkbox",id:"terms",checked:c,onChange:n,className:"mr-2"}),e.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-500",children:["I agree to the"," ",e.jsx("a",{href:"#",className:"text-[#ff7918] hover:underline",children:"Terms and Conditions."})]})]}),r.terms&&e.jsx("p",{className:"text-red-500 text-sm mb-5",children:r.terms}),e.jsx("button",{type:"submit",className:"w-full bg-[#ff7918] text-white font-semibold p-3 rounded-lg hover:bg-[#e86a15] transition",children:"Sign Up"})]}),e.jsxs("p",{className:"text-center text-sm text-gray-500 mt-4",children:["Already have an account?"," ",e.jsx(d,{to:"/login",className:"text-[#ff7918] font-medium hover:underline",children:"Login"})]})]}),e.jsx(j,{})]})};export{P as default};
